When creating entity in memory, Prov Python uses [ProvBundle#entity()](https://github.com/trungdong/prov/blob/1cb710a26c623c5c706b1c6945c645efd9e925c0/src/prov/model.py#L1623), which just calls [ProvBundle#new_record()](https://github.com/trungdong/prov/blob/1cb710a26c623c5c706b1c6945c645efd9e925c0/src/prov/model.py#L1578) method with identifier \`ex:a b c\`:

\`return self.new_record(PROV_ENTITY, identifier, None, other_attributes)\`

In ProvBundle#new_record(), when creating new record with identifier, [ProvBundle#valid_qualified_name()](https://github.com/trungdong/prov/blob/1cb710a26c623c5c706b1c6945c645efd9e925c0/src/prov/model.py#L1357) method is called on line 1604:
\`\`\`
new_record = PROV_REC_CLS[record_type](
    self, self.valid_qualified_name(identifier), attr_list
)
\`\`\`

ProvBundle#valid_qualified_name() just calls [NamespaceManager#valid_qualified_name()](https://github.com/trungdong/prov/blob/1cb710a26c623c5c706b1c6945c645efd9e925c0/src/prov/model.py#L1139). There is no validation of QualifiedName in this method. 

When serializing PROV-N format, the identifier is not validated.
However, this is not wrong since the serializer should not expect Prov Python to generate a PROV document with an invalid QualifiedName. The problem arises in the model where an invalid QualifiedName can be generated.

Therefore, Prov Python creates a document with an invalid identifier.

When deserializing from PROV-N, ProvToolbox uses deserializer which uses parser generated by [ANTLR](https://www.antlr.org/) with this [grammar](https://github.com/lucmoreau/ProvToolbox/blob/master/modules-core/prov-n/src/main/antlr3/org/openprovenance/prov/notation/PROV_N.g).
When reading the identifier and converting it to a tree, the parser generates one ENTITY with identifier \`"ex:a"\`  and one EXT with three identifiers \`"b"\` \`"null"\` and \`"c"\`.
This is not wrong because the parser should not expect an invalid document to be passed.
We get an exception:

\`Namespace.stringToQualifiedName(): Null namespace for b\`

Because when creating qualified name \`b\`, method [Namespace#stringToQualifiedName()](https://github.com/lucmoreau/ProvToolbox/blob/ca05849c88a84aae736355569a8bdae78c68b072/modules-core/prov-model/src/main/java/org/openprovenance/prov/model/Namespace.java#L220) is called, and \`b\` expects default namespace to be defined, but there is no default namespace in namespaces.